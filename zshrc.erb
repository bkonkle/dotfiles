# Path to your oh-my-zsh configuration.
export ZSH=$HOME/.oh-my-zsh
export ZSH_CUSTOM=$HOME/.dotfiles/zsh_custom

# Set name of the theme to load.
export ZSH_THEME="bkonkle"

# Aliases
if [ -f $HOME/.zsh_aliases ]; then
    source $HOME/.zsh_aliases
fi

# Which plugins would you like to load?
plugins=(command-coloring brew django fabric git-extras git-flow git-remote-branch git github gpg-agent osx pip python ssh-agent svn terminalapp)

# Plugin settings
zstyle :omz:plugins:ssh-agent identities id_rsa heroku-ll heroku-personal

source $ZSH/oh-my-zsh.sh

# Options
setopt bang_hist # Enable textual history substitution, using !-syntax.

# Convenience functions for path manipulation
path_append()  { path_remove $1; export PATH="$PATH:$1"; }
path_prepend() { path_remove $1; export PATH="$1:$PATH"; }
path_remove()  { export PATH=`echo -n $PATH | awk -v RS=: -v ORS=: '$0 != "'$1'"' | sed 's/:$//'`; }

# Prepend local bin and sbin
path_prepend /usr/local/sbin
path_prepend /usr/local/bin

# Local bin
if [ -d "$HOME/bin" ] ; then
    path_prepend $HOME/bin
fi

# Locales
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8

export EDITOR='subl -w'


# ----
# Perl
# ----

# Homebrew perl path
export PERL5LIB="$PERL5LIB:/usr/local/lib/perl5/site_perl"


# ----
# Ruby
# ----

# rbenv (https://github.com/sstephenson/rbenv)
if [ -d "$HOME/.rbenv/shims" ]; then
    path_prepend $HOME/.rbenv/shims
fi


# -------
# Node.js
# -------

export NODE_PATH=/usr/local/lib/node_modules

# Scripts installed by NPM
if [ -d "/usr/local/share/npm/bin" ]; then
    path_prepend /usr/local/share/npm/bin
fi


# ------
# Python
# ------

# Scripts installed by the Homebrew python
if [ -d "/usr/local/share/python" ]; then
    path_prepend /usr/local/share/python
fi

# Virtualenv
VIRTUAL_ENV_DISABLE_PROMPT=true

# Virtualenvwrapper
export WORKON_HOME=$HOME/.virtualenvs
export PROJECT_HOME=$HOME/code
source /usr/local/share/python/virtualenvwrapper.sh

# Disable global packages in pip
export PIP_RESPECT_VIRTUALENV=true
export PIP_REQUIRE_VIRTUALENV=true
